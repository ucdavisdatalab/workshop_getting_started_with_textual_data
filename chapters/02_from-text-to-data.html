

<!DOCTYPE html>


<html lang="en-us" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>2. From Text to Data &#8212; Getting Started with Textual Data</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/02_from-text-to-data';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Cleaning and Counting" href="03_cleaning-and-counting.html" />
    <link rel="prev" title="1. Before We Begin…" href="01_logistics.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en-us"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/datalab-logo-full-color-rgb.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/datalab-logo-full-color-rgb.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Overview
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapters</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_logistics.html">1. Before We Begin…</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. From Text to Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_cleaning-and-counting.html">3. Cleaning and Counting</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_corpus-analytics.html">4. Corpus Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_clustering-and-classification.html">5. Clustering and Classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_topic-modeling.html">6. Topic Modeling</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Assessment</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="90_assessment.html">Assessment</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ucdavisdatalab/workshop_getting_started_with_textual_data" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ucdavisdatalab/workshop_getting_started_with_textual_data/issues/new?title=Issue%20on%20page%20%2Fchapters/02_from-text-to-data.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapters/02_from-text-to-data.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>From Text to Data</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plain-text">2.1. Plain Text</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#textual-units">2.2. Textual Units</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#characters">2.2.1. Characters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tokens">2.2.2. Tokens</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#counting-words">2.3. Counting Words</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-first-pass">2.3.1. A first pass</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#top-words">2.3.2. Top words</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#investigating-duplicates">2.3.3. Investigating duplicates</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-what-s-a-word">2.4. What, What’s a Word?</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="from-text-to-data">
<h1><span class="section-number">2. </span>From Text to Data<a class="headerlink" href="#from-text-to-data" title="Permalink to this headline">#</a></h1>
<p>This chapter, which we’ve asked you to read prior to the first workshop
session, is a general discussion of working with textual data in Python. While
the workshop series assumes you have at least a basic understanding of Python,
we’ll quickly review how to load, or “read in,” a single text file and format
it for text analysis. We’ll do so both as a refresher and because this simple
action illuminates an important aspect of working with textual data: namely,
that to your computer, text is above all a <strong>sequence of characters</strong>. This is
a key thing to keep in mind when preparing your data for text mining and/or
NLP.</p>
<p>As you read this chapter, use it as a check on your familiarity with Python. If
you feel comfortable writing the code below, you should be prepared for our
sessions. The skills covered in this chapter include:</p>
<ul class="simple">
<li><p>Loading text data into Python</p></li>
<li><p>Working with different Python data structures (strings, lists, dictionaries)</p></li>
<li><p>Control flow with <code class="docutils literal notranslate"><span class="pre">for</span></code> loops</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Need to brush up on Python? The DataLab offers a <a class="reference external" href="https://ucdavisdatalab.github.io/workshop_python_basics">Python Basics workshop
series</a>.</p>
</div>
<section id="plain-text">
<h2><span class="section-number">2.1. </span>Plain Text<a class="headerlink" href="#plain-text" title="Permalink to this headline">#</a></h2>
<p>To open a text file, we’ll use <code class="docutils literal notranslate"><span class="pre">with...open</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/session_one/shelley_frankenstein.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
    <span class="n">frankenstein</span> <span class="o">=</span> <span class="n">fin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>We use <code class="docutils literal notranslate"><span class="pre">r</span></code> for the <code class="docutils literal notranslate"><span class="pre">mode</span></code> argument because we’re working with <strong>plain text</strong>
data (as opposed to <strong>binary</strong> data). In computing, plain text has a fuzzy set
of meanings, but generally it refers to some kind of data that is stored as a
stream of text characters (usually <a class="reference external" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> but increasingly
<a class="reference external" href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a>).</p>
<p>In plain text representations, every keystroke you would use to type out a text
has a corresponding character. That means this print output:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">frankenstein</span><span class="p">[:</span><span class="mi">364</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Letter 1

_To Mrs. Saville, England._


St. Petersburgh, Dec. 11th, 17—.


You will rejoice to hear that no disaster has accompanied the
commencement of an enterprise which you have regarded with such evil
forebodings. I arrived here yesterday, and my first task is to assure
my dear sister of my welfare and increasing confidence in the success
of my undertaking.
</pre></div>
</div>
</div>
</div>
<p>…is represented by the following plain text:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">frankenstein</span><span class="p">[:</span><span class="mi">364</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Letter 1\n\n_To Mrs. Saville, England._\n\n\nSt. Petersburgh, Dec. 11th, 17—.\n\n\nYou will rejoice to hear that no disaster has accompanied the\ncommencement of an enterprise which you have regarded with such evil\nforebodings. I arrived here yesterday, and my first task is to assure\nmy dear sister of my welfare and increasing confidence in the success\nof my undertaking.&#39;
</pre></div>
</div>
</div>
</div>
<aside class="margin sidebar">
<p class="sidebar-title">You might ask…</p>
<p>Why aren’t spaces also represented by characters? Well, they are, but even in
this relatively unformatted view your computer continues to render text in a
human-readable way.</p>
</aside>
<p>See all the <code class="docutils literal notranslate"><span class="pre">\n</span></code>, or <strong>newline</strong>, characters? Each one represents a line break.
On the back end, your computer uses newline characters to demarcate things like
paragraphs, stanzas, titles, and so forth, but typically it suppresses these
characters when it renders text for our eyes. What we see in the two different
outputs above, then, is a difference between <strong>print conventions</strong> and <strong>code
conventions</strong>. What appears as a blank in the former is in fact an addressable
unit in the latter.</p>
</section>
<section id="textual-units">
<h2><span class="section-number">2.2. </span>Textual Units<a class="headerlink" href="#textual-units" title="Permalink to this headline">#</a></h2>
<section id="characters">
<h3><span class="section-number">2.2.1. </span>Characters<a class="headerlink" href="#characters" title="Permalink to this headline">#</a></h3>
<p>The distinction between print and code conventions has significant consequences
for us. While, in the print view of the world, we tend to think of the word as
the atomic unit of text, in the code view of the world, text is – again – a
sequence of characters. The latter view is evident if we count how many units
are in our text:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The length of Frankenstein is:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">frankenstein</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The length of Frankenstein is: 418917
</pre></div>
</div>
</div>
</div>
<p>The Penguin edition of <em>Frankenstein</em> is ~220 pages. If we assume each page has
~350 words, that makes the book ~77,000 words long – far less than the number
above. So why did Python output this number? Because it counted characters, not
words.</p>
</section>
<section id="tokens">
<h3><span class="section-number">2.2.2. </span>Tokens<a class="headerlink" href="#tokens" title="Permalink to this headline">#</a></h3>
<p>But most of the time, we want to work with words. To do so, we’ll need to
change how Python represents our data, converting it from a long stream of
characters into discrete units. The process of doing this is called
<strong>tokenization</strong>. <em>To tokenize</em> means to break a continuous sequence of text
data into substrings, or “tokens.” Ultimately, tokens are what we primarily
count in text analytics.</p>
<p>Notably, a token is more of a generic entity than it is a particular kind of
text. <em>Tokens don’t always mean words</em>. In one sense, for example, our text is
already tokenized – it’s just tokenized by characters. But we want it tokenized
into words.</p>
<p>There are a number of different Python libraries that can tokenize text for
you, but it’s easy enough to do one version of this task with Python alone. For
now, we’ll simply use <code class="docutils literal notranslate"><span class="pre">.split()</span></code> and save the result to a new variable, <code class="docutils literal notranslate"><span class="pre">doc</span></code>.
This method breaks text apart on all whitespace characters (<code class="docutils literal notranslate"><span class="pre">\s</span></code>, <code class="docutils literal notranslate"><span class="pre">\n</span></code>, <code class="docutils literal notranslate"><span class="pre">\t</span></code>,
etc.).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">frankenstein</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Now, if we call <code class="docutils literal notranslate"><span class="pre">len()</span></code> on <code class="docutils literal notranslate"><span class="pre">doc</span></code>, we’ll see this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The length of Frankenstein is:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">doc</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The length of Frankenstein is: 74975
</pre></div>
</div>
</div>
</div>
<p>Much better! Now that our text is tokenized with whitespaces, this number is
considerably closer to our estimates above.</p>
</section>
</section>
<section id="counting-words">
<h2><span class="section-number">2.3. </span>Counting Words<a class="headerlink" href="#counting-words" title="Permalink to this headline">#</a></h2>
<p>With our text data loaded and formatted, it’s time to perform one of the core
tasks of text analysis: counting. The next chapter will discuss this process in
greater detail, but we’ll preview it here to get a sense of what’s to come (and
to review the basics of control flow in Python).</p>
<section id="a-first-pass">
<h3><span class="section-number">2.3.1. </span>A first pass<a class="headerlink" href="#a-first-pass" title="Permalink to this headline">#</a></h3>
<p>Splitting text transforms it into a list, where each word has its own separate
index position. With this data structure, deriving word counts is as simple as
passing that list to a <code class="docutils literal notranslate"><span class="pre">Counter</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="n">counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>With this done, we now have the total number of unique words in <em>Frankenstein</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Unique words:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">counts</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Unique words: 11590
</pre></div>
</div>
</div>
</div>
<p>We can also access the counts of individual words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">to_count</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;imagination&quot;</span><span class="p">,</span> <span class="s2">&quot;monster&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">to_count</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">word</span><span class="si">:</span><span class="s2">&lt;12</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>imagination  14
monster      21
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For the sake of readability, we use extra string formatting to control the
print spacing of our output. Feel free to work without it. But if you do want
to use it, take a look at <a class="reference external" href="https://realpython.com/python-f-strings/">this guide</a>.</p>
</div>
<p>If you’re familiar with <em>Frankenstein</em>, you’ll know that it’s an epistolary
novel. That is, it’s written as a series of letters. The first word, in fact,
is “Letter.” With this in mind, let’s tack on “letter” to our loop above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">to_count</span> <span class="o">+=</span> <span class="p">(</span><span class="s2">&quot;letter&quot;</span><span class="p">,)</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">to_count</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">word</span><span class="si">:</span><span class="s2">&lt;12</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>imagination  14
monster      21
letter       17
</pre></div>
</div>
</div>
</div>
</section>
<section id="top-words">
<h3><span class="section-number">2.3.2. </span>Top words<a class="headerlink" href="#top-words" title="Permalink to this headline">#</a></h3>
<p>Everything looks good so far. Let’s take a look at the most frequent words in
the novel.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;the&#39;, 3897),
 (&#39;and&#39;, 2903),
 (&#39;I&#39;, 2719),
 (&#39;of&#39;, 2634),
 (&#39;to&#39;, 2072),
 (&#39;my&#39;, 1631),
 (&#39;a&#39;, 1338),
 (&#39;in&#39;, 1071),
 (&#39;was&#39;, 992),
 (&#39;that&#39;, 974),
 (&#39;had&#39;, 679),
 (&#39;with&#39;, 654),
 (&#39;which&#39;, 540),
 (&#39;but&#39;, 538),
 (&#39;me&#39;, 529),
 (&#39;his&#39;, 500),
 (&#39;not&#39;, 479),
 (&#39;as&#39;, 477),
 (&#39;for&#39;, 463),
 (&#39;he&#39;, 446),
 (&#39;by&#39;, 440),
 (&#39;on&#39;, 425),
 (&#39;you&#39;, 400),
 (&#39;from&#39;, 373),
 (&#39;it&#39;, 362),
 (&#39;have&#39;, 356),
 (&#39;be&#39;, 339),
 (&#39;her&#39;, 313),
 (&#39;this&#39;, 298),
 (&#39;were&#39;, 298),
 (&#39;is&#39;, 296),
 (&#39;at&#39;, 289),
 (&#39;when&#39;, 261),
 (&#39;The&#39;, 255),
 (&#39;your&#39;, 237),
 (&#39;an&#39;, 208),
 (&#39;so&#39;, 196),
 (&#39;could&#39;, 187),
 (&#39;will&#39;, 185),
 (&#39;been&#39;, 182),
 (&#39;would&#39;, 177),
 (&#39;their&#39;, 174),
 (&#39;one&#39;, 174),
 (&#39;all&#39;, 172),
 (&#39;she&#39;, 172),
 (&#39;or&#39;, 169),
 (&#39;they&#39;, 166),
 (&#39;are&#39;, 164),
 (&#39;if&#39;, 153),
 (&#39;should&#39;, 152)]
</pre></div>
</div>
</div>
</div>
<p>And there they are!</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Except look: do you notice anything strange about these counts? Inspect them
closely. The word “The” appears about 20 words up from the end of the output –
and yet it also appears as the <em>first</em> entry in this output. What’s going on?</p>
</div>
</section>
<section id="investigating-duplicates">
<h3><span class="section-number">2.3.3. </span>Investigating duplicates<a class="headerlink" href="#investigating-duplicates" title="Permalink to this headline">#</a></h3>
<p>Let’s investigate. To see whether our counts are off, we’ll look back at
“letter” from above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Count for letter:&quot;</span><span class="p">,</span> <span class="n">counts</span><span class="p">[</span><span class="s1">&#39;letter&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Count for letter: 17
</pre></div>
</div>
</div>
</div>
<p>That corresponds to what we saw in the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop. But remember: <em>Frankenstein</em>
doesn’t start with “letter,” it starts with “Letter.” Might this make a
difference, as it did with “the” and “The”?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Count for Letter:&quot;</span><span class="p">,</span> <span class="n">counts</span><span class="p">[</span><span class="s1">&#39;Letter&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Count for Letter: 4
</pre></div>
</div>
</div>
</div>
<p>We appear to have some duplicates. To diagnose this problem, we’ll search
through all unique words in <em>Frankenstein</em> and test whether “letter” is a
substring of another string.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">counts</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">&quot;letter&quot;</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">word</span><span class="si">:</span><span class="s2">&lt;10</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>letter,    4
letters    12
letter     17
letter.    2
letters,   3
letters;   1
letter:    1
letters.   1
</pre></div>
</div>
</div>
</div>
<p>For good measure, let’s do this with “monster” as well:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">counts</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">&quot;monster&quot;</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">word</span><span class="si">:</span><span class="s2">&lt;10</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>monster    21
monster,   5
monsters   1
monster!   2
monster.’  1
‘monster!  1
monsters,  1
monster;   1
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="what-what-s-a-word">
<h2><span class="section-number">2.4. </span>What, What’s a Word?<a class="headerlink" href="#what-what-s-a-word" title="Permalink to this headline">#</a></h2>
<p>Based on the outputs above, it’s clear what has happened. <em>We have a problem in
the way we’ve defined the concept of a word</em>. Remember, to our computers, text
is just a sequence of characters. We had to coax Python intro treating this
sequence as if it were words by splitting it on spaces.</p>
<p>In doing so, we ended up creating a de facto definition of what constitutes a
word: for this definition, a word is any sequence of characters surrounded by
spaces.</p>
<p>If we frame what we’ve done in this way, we can see that Python followed this
definition perfectly, doing nothing more or less than splitting sequences of
characters on spaces. In a computer’s character-by-character way of reading,
“letter” is different from “letter;” – and understandably so, for each is a
different sequence of characters surrounded by spaces. The same goes for
“letter” and “Letter”: both are different character sequences surrounded by
spaces, for in a very rudimentary sense, lowercase ‘l’ and uppercase ‘L’ are
not the same character. (To be exact, the underlying Unicode
<a class="reference external" href="https://en.wikipedia.org/wiki/Universal_Character_Set_characters">codepoints</a> for these letters are <code class="docutils literal notranslate"><span class="pre">U+006C</span></code> and <code class="docutils literal notranslate"><span class="pre">U+004C</span></code>,
respectively).</p>
<aside class="margin sidebar">
<p class="sidebar-title">To complicate things further…</p>
<p>Non-English languages and non-alphabetic writing systems add a productive
challenge to this topic. We can’t cover this in full, but Quinn Drombowski has
written about it in this <a class="reference external" href="https://quinndombrowski.com/blog/2020/10/15/whats-word-multilingual-dh-and-english-default/">blogpost</a> on text analytics and the “English
default.”</p>
</aside>
<p>But in another sense, they <em>are</em> the same letter. The problem here arises from
the fact that, as opposed to our computers’ highly literal way of reading, we
tend to consider the meaning of words to be something that transcends
differences in capitalization; that is mostly separable from punctuation; and
that sometimes even goes beyond spelling (think American vs. British English)
and inflection (“run,” “running,” “ran” =&gt; “run”). In the output above, what
we’d really like to see is something closer to what linguists call <strong>lexemes</strong>,
or the abstract units of meaning that underlie groups of words. Otherwise,
we’re still just counting characters.</p>
<p>The next chapter – and with it, our first workshop session – will discuss how
to prepare textual data so as to begin analyzing words.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="01_logistics.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Before We Begin…</p>
      </div>
    </a>
    <a class="right-next"
       href="03_cleaning-and-counting.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Cleaning and Counting</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plain-text">2.1. Plain Text</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#textual-units">2.2. Textual Units</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#characters">2.2.1. Characters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tokens">2.2.2. Tokens</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#counting-words">2.3. Counting Words</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-first-pass">2.3.1. A first pass</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#top-words">2.3.2. Top words</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#investigating-duplicates">2.3.3. Investigating duplicates</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-what-s-a-word">2.4. What, What’s a Word?</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tyler Shoemaker and Carl Stahmer
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
  <img alt="CC BY-SA 4.0" src="https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg"> 
</a>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>